<apex:page standardController="Case" showHeader="false" sidebar="false"  docType="html-5.0" renderAs="html" 
    extensions="CONS_docuwareverdocumento" 
    action="{!obtener_documentos}">
    <!--contentType="{!tipo}#{!nombre};base64"
    cache="true"> {!base64}
    <!--<img src="data:{!tipo};base64,{!base64}"/>-->
   <!-- <div>
        <iframe src="data:application/octet-stream;base64,{!base64}" width='100%' height='900px' ></iframe> 
    <embed type="{!tipo}" src="data:{!tipo};base64,{!base64}" />
        <object width="400" height="400" data="data:{!tipo};base64,{!base64}"   type="{!tipo}"></object>
        <a href="data:{!tipo};base64,{!base64}"></a>
        
      
    </div>-->
   

<html><head><script  type="text/javascript">


var base64String = "{!base64}";
var base64String2 = "{!base64}";
function b64toBlob(b64Data, contentType, sliceSize) {
  contentType = contentType || '';
  sliceSize = sliceSize || 512;

  var byteCharacters = atob(b64Data);
  var byteArrays = [];

  for (var offset = 0; offset < byteCharacters.length; offset += sliceSize) {
    var slice = byteCharacters.slice(offset, offset + sliceSize);

    var byteNumbers = new Array(slice.length);
    for (var i = 0; i < slice.length; i++) {
      byteNumbers[i] = slice.charCodeAt(i);
    }

    var byteArray = new Uint8Array(byteNumbers);

    byteArrays.push(byteArray);
  }
    
  var blob = new Blob(byteArrays, {type: contentType});
  return blob;
}

function descargar(base64, contentType, fileName) {
    var blob = b64toBlob(base64, contentType);
    var blobUrl = URL.createObjectURL(blob);

    const downloadLink = document.createElement("a");
    downloadLink.href = blobUrl;
    downloadLink.download = fileName;
    downloadLink.click();
}





</script></head><body>


<div>
<iframe height="1000px" src="" width="950px" id="theIframe"  ></iframe> 
    </div>
<script type="text/javascript">
    

    var blob = b64toBlob(base64String2, 'application/pdf');
    var blobUrl = URL.createObjectURL(blob);
    theIframe.src = blobUrl

</script>

</body></html>
    
    
 </apex:page>